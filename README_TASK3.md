## csc-bdse
Базовый проект для практики по курсу "Программная инженерия больших данных".

Список участников команды:

* Лабутин Игорь
* Суворов Егор

Название команды: `LMS`

## Задания
[Подготовка](INSTALL.md)

[Часто задаваемые вопросы](FAQ.md)

[Задание 1](TASK1.md)

[Задание 2](TASK2.md)

[Задание 3](TASK3.md)

## Задание 3

* `ru.csc.base.kv.distributed.Coordinator` - координатор нод.
* Для настройки координатора kvnode добавлены среды.
  Если их нет, то запускается в старом режиме (без координатора), а если есть - то
  в одном приложении запускаются и нода (доступна по адресу `/inner`),
  и координатор (доступен в корне `/`).
** `KVNODE_REPLICAS_URL` - разделённый запятыми список URL, по которым доступны другие внутренние ноды
   (к своей координатор обращается напрямую)
** `KVNODE_REPLICAS_TIMEOUT_MS` - таймаут на любую операцию с нодами, в миллисекундах.
** `KVNODE_WCL`, `KVNODE_RCL` - параметры координатора
* `ru.csc.base.controller.*KeyValueApiController` - несколько REST-контроллеров,
   чтобы по `/` был доступен координатор (при наличии), а по `/inner` - внутренняя нода.
* Записи сериализуются в БД через protobuf: см. `distributed.proto`
* `FailoverKeyValueApiClient` - если не удалось выполнить операцию с каким-то `KeyValueApi`,
   то переключается на следующий в списке (если список закончился - идёт с начала).
* `ContaineredReplicasTest` - поднимает кластер из трёх нод на основе Redis и выполняет с ними
   простые тесты.

Хочется больше тестов: текущие, кажется, практически не проверяют разрешение конфликтов или
то, что выдерживаются WCL/RCL.